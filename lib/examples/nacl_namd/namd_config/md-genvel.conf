# md-genvel.conf
#   0.5 ps NVT production with Langevin thermostat and Generalized Born implicit solvation
######################################################## INPUT #########################################################
paraTypeCharmm	                    on                      ;# Input parameter file is in 'CHARMM' format, not 'X-PLOR'
coordinates                         initial.pdb             ;# Structure infile (.coor/.pdb)

structure                           nacl.psf                ;# Topology infile (.psf)
parameters                          par_all27_prot_na.prm   ;# Parameter infile (.prm)
####################################################### ENSEMBLE #######################################################
langevin                            on                      ;# Langevin thermostat enabled
temperature                         300                     ;# System temperature (K)
langevintemp                        300                     ;# Langevin thermostat temperature (K)
langevindamping                     0.5                     ;# Langevin thermostat damping constant (ps -1)
GBIS                                on                      ;# Generalized Born implicit solvent enabled
################################################# BONDED INTERACTIONS ##################################################
################################################ NONBONDED INTERACTIONS ################################################
cutoff                              999.0                   ;# Nonbonded cutoff for van der Waals and electrostatics (A)
exclude                             scaled1-4               ;# Electrostatic scaling between 1-4 bonded atoms
1-4scaling                          1.0                     ;# 1-4 interaction scaling (0.83333 for Amber force field)
switching                           off                     ;# Van der Waals switching disabled
pairlistdist                        1000.0                  ;# Neighbor list cut-off (A)
stepspercycle                       250                     ;# Neighbor list update interval (timesteps)
######################################################## OUTPUT ########################################################
outputname                          seg                     ;# Output file prefix
outputEnergies                      50                      ;# Energy log output interval (timesteps)
restartfreq                         0                       ;# Restart file output interval (timesteps)
binaryoutput                        no                      ;# Do not output binary trajectory
dcdfile                             seg.dcd                 ;# Trajectory outfile (.dcd)
dcdfreq                             50                      ;# Trajectory output interval (timesteps)
###################################################### INTEGRATOR ######################################################
timestep                            2.0                     ;# Simulation timestep (fs)
run                                 250                     ;# Simulation duration (timesteps)

coorfile open dcd seg.dcd
set i 0
while { ![coorfile read] } {
    output [format "%04d" [expr $i]]
    set i [expr $i + 1]
}
